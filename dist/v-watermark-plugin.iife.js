var t=function(t){'use strict';const n=-25,e="14px",o="\u5fae\u8f6f\u96c5\u9ed1",i="normal",r="normal",l="#c9c9c9",a="center",c="middle",u=285,s=400,d=.4,v=9999,h={id:"v-watermark-element",canvas:document.createElement('canvas'),options:{text:[]},t:new MutationObserver((()=>{}))};function f(){return{size:h.options.fontSize||e,family:h.options.fontFamily||o,weight:h.options.fontWeight||i,style:h.options.fontStyle||r}}function m(){var t,o,i;const r=(null!==(t=h.options.rotate)&&void 0!==t?t:n)*Math.PI/180,d=f(),[v,m]=(()=>{const t=h.canvas.getContext("2d");if(!t)return[0,0];t.font=`${d.style} ${d.weight} ${d.size} ${d.family}`;const n=parseInt(d.size);return h.options.text.reduce((([e,o],i)=>{const r=t.measureText(i);return[Math.max(e,r.width),Math.max(o,1.2*n)]}),[0,0])})(),M=Math.cos(r),b=Math.sin(r),$=Math.abs(v*M)+Math.abs(m*b),g=Math.abs(v*b)+Math.abs(m*M),[p,w]=[null!==(o=h.options.o)&&void 0!==o?o:u,null!==(i=h.options.i)&&void 0!==i?i:s];Object.assign(h.canvas,{width:Math.max(2*$,p),height:Math.max(2*g,w)}),[!0,!1].forEach((t=>{!function(t){var o;const i=h.canvas.getContext("2d"),r=null!==(o=h.options.rotate)&&void 0!==o?o:n,u=r*Math.PI/180,{width:s,height:d}=i.canvas,[v,m]=t?[s/4,d/7]:[.75*s,.64*d];i.resetTransform(),i.translate(v,m),i.rotate(u);const M=f();Object.assign(i,{font:`${M.style} ${M.weight} ${M.size} ${M.family}`,fillStyle:h.options.color||l,textAlign:h.options.textAlign||a,textBaseline:h.options.textBaseline||c});const b=1.2*parseInt(h.options.fontSize||e);h.options.text.forEach(((t,n)=>{const e=n*b;i.fillText(t,0,e)}))}(t)}))}function M(){var t,n;if(document.getElementById(h.id))return;const e=document.createElement("div");e.id=h.id,e.style.pointerEvents="none",e.style.position="fixed",e.style.inset="0",e.style.opacity=String(null!==(t=h.options.opacity)&&void 0!==t?t:d),e.style.zIndex=String(null!==(n=h.options.zIndex)&&void 0!==n?n:v),e.style.background=`url(${h.canvas.toDataURL('image/webp',.8)}) left top repeat`,document.body.appendChild(e),b()}const b=()=>{const t=document.getElementById(h.id),n=t.parentNode;h.t=new MutationObserver((e=>{for(const o of e)'childList'!==o.type||n.contains(t)?'attributes'===o.type&&'style'===o.attributeName&&(h.t.disconnect(),t.remove(),M()):(h.t.disconnect(),M())})),h.t.observe(n,{childList:!0}),h.t.observe(t,{attributes:!0,attributeFilter:['style'],subtree:!0})},$=()=>{const t=document.getElementById(h.id);t&&(h.t.disconnect(),document.body.removeChild(t))};return t.l=t=>{(t=>{var n;Array.isArray(null==t?void 0:t.text)&&0!==(null===(n=null==t?void 0:t.text)||void 0===n?void 0:n.length)&&!t.text.some((t=>!(null==t?void 0:t.trim())))&&($(),h.options=t,m(),M())})(t)},t.u=$,t}({});
